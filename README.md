# Factory

### Latest version date 2020/08/04
### By Spencer Moody

## Description
_An app for keeping track of repairs done at a factory based on: the engineers to who made those repairs, machines that have been repaired, and the location of the factory_

## Specifications

1. **Behavior:** The user is welcomed with a splash page and given the option to view Machines or view Engineers or view Factory Locations.
* **Input Example:** "View Machines" or "View Engineers or View Locations"
* **Output Example:** /Machines or /Locations or /Engineers 

2. **Behavior:** The user can add a new Machine with the name of machine and short description.
* **Input Example:** "Add a new Machine"
* **Output Example:** /Machines/Create

3. **Behavior:** The user can add a new Engineer with the engineers name.
* **Input Example:** "Add new Engineer"
* **Output Example:** /Engineers/Create

4. **Behavior:** The user can add a new Location with the location/factories name.
* **Input Example:** "Add new Location"
* **Output Example:** /Locations/Create

5. **Behavior:** The user can assign a machine at a specific location to an engineer (a single machine can have many engineers/locations and a single engineer can have many machines/locations).
* **Input Example:** "Add Machine to Engineer"
* **Output Example:** /Machines/AddEngineer/{Id}

6. **Behavior:** The program will allow the user to delete am Engineer.
* **Input Example:** "Delete Engineer"
* **Output Example:** /Engineers/Delete/{Id}

7. **Behavior:** The program will allow the user to delete a Machine.
* **Input Example:** "Delete Machine"
* **Output Example:** /Machines/Delete/{Id}

8. **Behavior:** The program will allow the user to delete a Location.
* **Input Example:** "Delete Location"
* **Output Example:** /Locations/Delete/{Id}

9. **Behavior:** The user can edit existing Engineers, Machines and Locations.
* **Input Example:** "Edit Engineer Info" or "Edit Machine Info" or "Edit Location Info"
* **Output Example:** /Machines/Edit/{Id}

## Setup/Installation Requirements
* .NET Core 2.2 will need to be installed, it can be found here https://dotnet.microsoft.com/download/dotnet-core/2.2
* For Mac users, download MySQL here: https://dev.mysql.com/downloads/file/?id=484914
* For Windows users, download MySQL here: https://dev.mysql.com/downloads/file/?id=484919
* Install MySQL and set the system path, more information on how to do that can be found here: https://www.learnhowtoprogram.com/c-and-net/getting-started-with-c/installing-and-configuring-mysql
* Run MySQL by entering `mysql -uroot -pepicodus` in the terminal
* Enter the following commands to create the necessary database and tables:
```
DROP DATABASE IF EXISTS `spencer_moody`;
CREATE DATABASE `spencer_moody`;

USE `spencer_moody`;

CREATE TABLE `engineerlocationmachine` (
  `EngineerLocationMachineId` int NOT NULL AUTO_INCREMENT,
  `EngineerId` int DEFAULT NULL,
  `LocationId` int DEFAULT NULL,
  `MachineId` int DEFAULT NULL,
  PRIMARY KEY (`EngineerLocationMachineId`),
  KEY `IX_EngineerLocationMachine_EngineerId` (`EngineerId`),
  KEY `IX_EngineerLocationMachine_LocationId` (`LocationId`),
  KEY `IX_EngineerLocationMachine_MachineId` (`MachineId`),
  CONSTRAINT `FK_EngineerLocationMachine_Engineers_EngineerId` FOREIGN KEY (`EngineerId`) REFERENCES `engineers` (`EngineerId`) ON DELETE RESTRICT,
  CONSTRAINT `FK_EngineerLocationMachine_Locations_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `locations` (`LocationId`) ON DELETE RESTRICT,
  CONSTRAINT `FK_EngineerLocationMachine_Machines_MachineId` FOREIGN KEY (`MachineId`) REFERENCES `machines` (`MachineId`) ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `engineers` (
  `EngineerId` int NOT NULL AUTO_INCREMENT,
  `Name` longtext,
  PRIMARY KEY (`EngineerId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `locations` (
  `LocationId` int NOT NULL AUTO_INCREMENT,
  `Name` longtext,
  PRIMARY KEY (`LocationId`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `machines` (
  `MachineId` int NOT NULL AUTO_INCREMENT,
  `Name` longtext,
  `Description` longtext,
  `Complete` bit(1) NOT NULL DEFAULT b'0',
  `InspectionDate` datetime(6) NOT NULL DEFAULT '0001-01-01 00:00:00.000000',
  PRIMARY KEY (`MachineId`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

```
* Alternatively, if you are using MySQL Workbench, the database can be generated by importing `spencer_moody.sql` located in the `Factory.Solution` directory
* This functionality is located in MySQL Workbench's `Server` menu under `Data Import`, select `Import from Self-Contained File`, browse to select the included `spencer_moody.sql` file, and finally select `Start Import`
* Clone the GitHub repository by running `git clone https://github.com/smoody0208/Factory.Solution.git` in the terminal
* Navigate to the newly created `Factory.Solution` folder
* Navigate to the `Factory` subfolder and run `dotnet restore`
* Next type `dotnet ef database update` to use the Migration file to build the database schema
* Run `dotnet build` to build the app and `dotnet run` to run it
* The web app will now be available on `http://localhost:5000/` in your browser

## Known Bugs and Support
No know bugs.

## Tech used

* C#
* .NET Core
* Entity Framework
* MySQL

### License

This project is licensed under the [MIT License](https://opensource.org/licenses/MIT).

Copyright (c) 2020 Spencer Moody